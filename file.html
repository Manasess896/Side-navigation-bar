<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holiday Lookup</title>
  <style>
   
        /* CSS code for styling the web page */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }

        h1 {
            text-align: center;
            margin-top: 20px;
        }

        .container {
            width: 80%;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .form {
            display: flex;
            margin: 20px;
        }

        .form select {
            padding: 10px;
            margin: 10px;
            border: 1px solid #ccc;
        }

        .form button {
            padding: 10px;
            margin: 10px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th, .table td {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: left;
        }

        .table th {
            background-color: #007bff;
            color: white;
        }
    </style>
</head>
<body>
    <h1 id="month">February 2024</h1> <!-- h1 element to show the current month -->
    <div class="container">
        <form class="form" id="form"> <!-- form element to get the user input -->
            <select id="month-select"> <!-- select element to choose the month -->
                <option value="1">January</option>
                <option value="2" selected>February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>
            <select id="country-select"> <!-- select element to choose the country -->
                <option value="KE" selected>Kenya</option>
                <option value="US">United States</option>
                <option value="GB">United Kingdom</option>
                <option value="IN">India</option>
                <option value="NL">Netherlands</option>
                <!-- You can add more countries here -->
            </select>
            <button id="submit">Submit</button> <!-- button element to submit the form -->
        </form>
        <table class="table" id="table"> <!-- table element to show the results -->
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Name</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody id="tbody">
                <!-- The table body will be populated by JavaScript -->
            </tbody>
        </table>
    </div>
    <script>
        // JavaScript code for fetching and displaying the holidays

        // Get the HTML elements by their id
       const monthElement = document.getElementById("month");
const monthSelect = document.getElementById("month-select");
const countrySelect = document.getElementById("country-select");
const form = document.getElementById("form");
const tableBody = document.getElementById("tbody");

// Define the API URL
const apiUrl = "https://api.api-ninjas.com/v1/holidays";

// Replace "YOUR_API_KEY" with your actual API key
const apiKey = "GyoUjHIHrXPwknBYlTHmI6kprzR1uqsWQXVfsmLb";

// Define a function to get the holidays for a given month and country
function getHolidays(month, country) {
    const params = new URLSearchParams({
        api_key: apiKey, // Use your actual API key
        country: country,
        year: 2024,
        month: month
    });

    // Construct the full API URL with the parameters
    const fullUrl = `${apiUrl}?${params}`;

    // Fetch holidays data
    fetch(fullUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error("Network response was not ok");
            }
            return response.json();
        })
        .then(data => {
            // Check if holidays data is valid
            if (data.response && data.response.holidays) {
                const holidays = data.response.holidays;

                // Clear the table body
                tableBody.innerHTML = "";

                // Loop through the holidays array
                holidays.forEach(holiday => {
                    // Create a new table row element
                    const tr = document.createElement("tr");

                    // Create table data elements
                    const tdDate = document.createElement("td");
                    const tdName = document.createElement("td");
                    const tdType = document.createElement("td");

                    // Format date
                    const date = new Date(holiday.date.iso);
                    const formattedDate = date.toLocaleDateString();

                    // Set text content
                    tdDate.textContent = formattedDate;
                    tdName.textContent = holiday.name;
                    tdType.textContent = holiday.type.join(", ");

                    // Append table data to table row
                    tr.appendChild(tdDate);
                    tr.appendChild(tdName);
                    tr.appendChild(tdType);

                    // Append table row to table body
                    tableBody.appendChild(tr);
                });
            } else {
                throw new Error("Invalid holidays data");
            }
        })
        .catch(error => {
            console.error("Error fetching holidays:", error);
            alert("Something went wrong. Please try again.");
        });
}

// Define a function to update the month element
function updateMonth(month) {
    // Create an array of month names
    const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    // Set the text content of the month element to the corresponding month name
    monthElement.textContent = monthNames[month - 1] + " 2024";
}

// Add an event listener to the form element
form.addEventListener("submit", function(event) {
    // Prevent the default behavior of the form submission
    event.preventDefault();

    // Get the selected month and country values
    const month = monthSelect.value;
    const country = countrySelect.value;

    // Update the month element
    updateMonth(month);

    // Get the holidays for the selected month and country
    getHolidays(month, country);
});

// Call the updateMonth function with the default month value
updateMonth(monthSelect.value);

// Call the getHolidays function with the default month and country values
getHolidays(monthSelect.value, countrySelect.value); 
    </script>
</body>
</html>

